<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui">

<ui:composition template="./errorTemplate.xhtml">

<ui:define name="contentHead">
	<title>#{constApp.product}.Error</title>
</ui:define>

<ui:define name="content">

	<div class="background fondoerr">
		<h:outputText value="#{constApp.title}" />
	</div>

	<div class="center-container">
		<div class="panel">

			<div style="margin-top: 10px; margin-bottom: 20px; text-align: center;">
				<i class="fa fa-times-circle fa-2x" style="color:#E57162" />
			</div>

			<div style="margin: 20px; text-align: center;">
				<h:outputText value="#{msg0['errorpages.500.title']}" style="font-size: 1.2em; color:#757575" />
			</div>

			<div style="margin-top: 60px; margin-bottom: 20px; text-align: center;">
				<a class="linkButton" href="#{request.contextPath}/site/loggedIndex.xhtml">#{msg0['button.continue']}</a>
			</div>

			<div style="margin-top:15px; text-align: right; color:#888;">
				<span onclick="showDetail()" style="cursor: pointer;">[+]</span>
			</div>
		</div>

		<script>
			function showDetail() {
			  var x = document.getElementById("divDetail");
			  if (x.style.display === "none") { x.style.display = "block"; } else { x.style.display = "none"; }
			}
		</script>

		<div id="divDetail" style="display: none;">
			<ul>
				<li>Request URI: #{requestScope['javax.servlet.error.request_uri']}</li>
				<li>Ajax request: #{facesContext.partialViewContext.ajaxRequest ? 'Yes' : 'No'}</li>
				<li>Status code: #{requestScope['javax.servlet.error.status_code']}</li>
				<li>Exception type: <code>#{requestScope['javax.servlet.error.exception_type']}</code></li>
				<li>Exception message: <code>#{requestScope['javax.servlet.error.message']}</code></li>
			</ul>
		</div>

	</div>

</ui:define>

</ui:composition>

</html>
